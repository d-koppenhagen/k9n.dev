import{j as r,aT as s,aU as n,aV as m,P as h,l as p,aW as c}from"./index-nZOzKHyg.js";const a=class a{constructor(){this.dom=r(s),this.meta=r(n),this.title=r(m),this.platformId=r(h),this.isBrowser=!1,this.isBrowser=p(this.platformId)}createCanonicalURL(t){if(this.isBrowser){const e=t===void 0?this.dom.URL:t;let i=document.querySelector('link[rel="canonical"]');i||(i=this.dom.createElement("link"),i.setAttribute("rel","canonical"),this.dom.head.appendChild(i)),i.setAttribute("href",e)}}createMetaDataForPost(t,e){this.removeAllKnownTags(),this.setTitle(e.attributes.title),this.setDescription(e.attributes.description),this.createCanonicalURL(e.attributes.publishedAt?.url),this.createTwitterCardForBlogPost(e),this.createOpenGraphProfileForBlogPost(t,e)}setTitle(t){this.title.setTitle(`k9n.dev | ${t}`)}setDescription(t){this.meta.updateTag({name:"description",content:t})}createTwitterCardForBlogPost(t){this.meta.updateTag({name:"twitter:card",content:"summary"}),this.meta.updateTag({name:"twitter:site",content:"@d_koppenhagen"}),this.meta.updateTag({name:"twitter:creator",content:"@d_koppenhagen"}),this.meta.updateTag({name:"twitter:title",content:t.attributes.title}),this.meta.updateTag({name:"twitter:description",content:t.attributes.description}),this.meta.updateTag({name:"twitter:image",content:`https://k9n.dev/${t.attributes.thumbnail.header}`})}createOpenGraphProfileForBlogPost(t,e){this.meta.updateTag({property:"og:title",content:e.attributes.title}),this.meta.updateTag({property:"og:description",content:e.attributes.description}),this.meta.updateTag({name:"og:image",content:`https://k9n.dev/${e.attributes.thumbnail.header}`}),this.meta.updateTag({name:"og:url",content:`https://k9n.dev/${t}/${e.slug}`})}removeAllKnownTags(){this.meta.removeTag("property='og:title'"),this.meta.removeTag("name='twitter:title'"),this.meta.removeTag("name='description'"),this.meta.removeTag("property='og:description'"),this.meta.removeTag("name='twitter:description'"),this.meta.removeTag("property='og:image'"),this.meta.removeTag("property='og:image:width'"),this.meta.removeTag("property='og:image:height'"),this.meta.removeTag("name='twitter:image'"),this.meta.removeTag("name='twitter:card'"),this.meta.removeTag("name='twitter:site'"),this.meta.removeTag("property='og:url'"),this.meta.removeTag("property='og:locale'"),this.meta.removeTag("property='og:type'"),this.meta.removeTag("property='fb:app_id'")}};a.ɵfac=function(e){return new(e||a)},a.ɵprov=c({token:a,factory:a.ɵfac,providedIn:"root"});let o=a;export{o as M};
