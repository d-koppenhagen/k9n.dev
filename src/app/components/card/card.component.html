<article>
  <div class="card-header">
    @if (
      post.attributes.thumbnail &&
      (post.attributes.thumbnail.header || post.attributes.thumbnail.card)
    ) {
      @if (externalUrl) {
        <a
          [href]="externalUrl"
          target="_blank"
          class="image card-image"
          [title]="post.attributes.title"
          [attr.aria-label]="post.attributes.title"
        >
          <img
            [src]="
              post.attributes.thumbnail.card || post.attributes.thumbnail.header
            "
            alt=""
          />
        </a>
      } @else {
        <a
          [routerLink]="routeToPost"
          class="image card-image"
          [title]="post.attributes.title"
          [attr.aria-label]="post.attributes.title"
        >
          <img
            [src]="
              post.attributes.thumbnail.card || post.attributes.thumbnail.header
            "
            alt=""
          />
        </a>
      }
    }
    <h3 class="major">{{ post.attributes.title }}</h3>
  </div>
  <summary class="card-content">
    <p>
      {{ post.attributes.description }}
    </p>
  </summary>
  <div class="card-footer">
    @if (externalUrl) {
      <a class="special read-on" [href]="externalUrl" target="_blank"
        >Weiterlesen...</a
      >
    } @else {
      <a class="special read-on" [routerLink]="routeToPost">Weiterlesen...</a>
    }
    @if (
      post.attributes.publishedAt &&
      post.attributes.publishedAt.name &&
      post.attributes.publishedAt.url
    ) {
      <a
        [href]="post.attributes.publishedAt.url"
        target="_blank"
        class="published-at-link"
        [title]="
          'Original veröffentlicht auf ' + post.attributes.publishedAt.name
        "
        [attr.aria-label]="
          'Original veröffentlicht auf ' + post.attributes.publishedAt.name
        "
      >
        @if (post.attributes.publishedAt.logo) {
          <img
            class="published-at-logo"
            [src]="post.attributes.publishedAt.logo"
            alt=""
          />
        } @else {
          Original veröffentlicht auf {{ post.attributes.publishedAt.name }}
        }
      </a>
    }
  </div>
</article>
