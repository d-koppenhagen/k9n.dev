@use 'sass:color';
@use '../libs/breakpoints';
@use '../libs/functions';
@use '../libs/mixins';
@use '../libs/vendor';
@use '../libs/vars';

///
/// Solid State by HTML5 UP
/// html5up.net | @ajlkn
/// Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
///

/* Menu */

#page-wrapper {
  @include vendor.vendor('transition', 'filter 0.25s ease');
}

#menu {
  @include vendor.vendor('align-items', 'center');
  @include vendor.vendor('display', 'flex');
  @include vendor.vendor('justify-content', 'center');
  @include vendor.vendor('pointer-events', 'none');
  @include vendor.vendor(
    'transition',
    ('opacity #{functions.duration(menu)} ease', 'visibility #{functions.duration(menu)}')
  );
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: vars.$black;
  background: color.adjust(functions.palette(bg), $alpha: -0.2);
  cursor: default;
  height: 100%;
  left: 0;
  opacity: 0;
  position: fixed;
  text-align: center;
  top: 0;
  visibility: hidden;
  width: 100%;

  .inner {
    @include mixins.padding(2.5em, 1.5em);
    @include vendor.vendor('transform', 'translateY(0.5em)');
    @include vendor.vendor(
      'transition',
      ('opacity #{functions.duration(menu)} ease', 'transform #{functions.duration(menu)} ease')
    );
    -webkit-overflow-scrolling: touch;
    background: functions.palette(accent);
    border-radius: functions.size(border-radius);
    display: block;
    max-width: 100%;
    opacity: 0;
    position: relative;
    width: 18em;
  }

  h2 {
    border-bottom: solid 2px functions.palette(border);
    padding-bottom: 1em;
  }

  .close {
    background-image: url('/images/close.svg');
    background-position: 75% 25%;
    background-repeat: no-repeat;
    background-size: 2em 2em;
    border: 0;
    content: '';
    display: block;
    height: 4em;
    overflow: hidden;
    position: absolute;
    right: 0;
    text-align: center;
    text-indent: 4em;
    top: 0;
    width: 4em;
  }

  .links {
    list-style: none;
    margin-bottom: (functions.size(element-margin) - 0.5em);
    padding: 0;

    li {
      padding: 0;

      a {
        border-radius: functions.size(border-radius);
        border: 0;
        display: block;
        font-family: functions.font(family-heading);
        font-size: 0.8em;
        font-weight: functions.font(weight-heading);
        letter-spacing: functions.font(kern-heading);
        line-height: 1.85em;
        padding: 0.75em 0;
        text-transform: uppercase;

        &:hover {
          background: color.adjust(functions.palette(accent), $lightness: -3%, $saturation: 1.5%);
        }
      }
    }
  }

  @include breakpoints.breakpoint('<=small') {
    .inner {
      max-height: 100%;
      overflow-y: auto;
      overflow-x: hidden;

      .close {
        background-size: 1.5em 1.5em;
      }
    }
  }
}

body.is-menu-visible {
  #page-wrapper {
    @include vendor.vendor('filter', 'blur(1.5px)');
  }

  #menu {
    @include vendor.vendor('pointer-events', 'auto');
    opacity: 1;
    visibility: visible;

    .inner {
      @include vendor.vendor('transform', 'translateY(0)');
      opacity: 1;
    }
  }
}
